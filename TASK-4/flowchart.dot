digraph DersKayitSistemi {
    rankdir=TB; // Akışı yukarıdan aşağıya ayarla
    node [shape=box, style=rounded, fontname="Helvetica"];
    edge [fontname="Helvetica"];

    // Başlangıç ve Giriş
    Start [label="Başla", shape=ellipse];
    Login [label="Öğrenci Girişi"];
    LoginCheck [label="Giriş Başarılı mı?", shape=diamond];
    
    // Ders Seçim Döngüsü
    DisplayCourses [label="Ders Listesini Görüntüle"];
    SelectCourse [label="Ders Seç"];
    
    // Kontrol Noktaları (Diamond)
    QuotaCheck [label="Kontenjan Var mı?", shape=diamond];
    PrereqCheck [label="Ön Koşul Tamam mı?", shape=diamond];
    ConflictCheck [label="Zaman Çakışması Var mı?", shape=diamond];
    CreditCheck [label="Kredi Limiti (<=35) Aşıldı mı?", shape=diamond];
    
    // Aksiyonlar ve Döngü Kararı
    AddCourse [label="Dersi Geçici Listeye Ekle"];
    ShowError [label="Hata Mesajı Göster"];
    MoreCourses [label="Başka Ders Eklenecek mi?", shape=diamond];
    
    // Sonlandırma
    ShowSummary [label="Kayıt Özetini Göster"];
    ConfirmRegistration [label="Kullanıcı Kaydı Onaylıyor mu?", shape=diamond];
    GPACheck [label="GPA < 2.5 mi?", shape=diamond];
    SendToAdvisor [label="Kayıt Danışman Onayına Gönderilir"];
    CompleteRegistration [label="Kayıt Tamamlandı"];
    CancelRegistration [label="Kayıt İptal Edildi"];
    End [label="Son", shape=ellipse];

    // --- Akış Yönleri ---
    Start -> Login;
    Login -> LoginCheck;
    LoginCheck -> DisplayCourses [label="Evet"];
    LoginCheck -> End [label="Hayır"];

    DisplayCourses -> SelectCourse;
    SelectCourse -> QuotaCheck;

    QuotaCheck -> PrereqCheck [label="Evet"];
    QuotaCheck -> ShowError [label="Hayır (Dolu)"];

    PrereqCheck -> ConflictCheck [label="Evet"];
    PrereqCheck -> ShowError [label="Hayır (Eksik)"];
    
    ConflictCheck -> CreditCheck [label="Hayır"];
    ConflictCheck -> ShowError [label="Evet (Çakışma Var)"];
    
    CreditCheck -> AddCourse [label="Hayır"];
    CreditCheck -> ShowError [label="Evet (Aşılıyor)"];

    AddCourse -> MoreCourses;
    ShowError -> MoreCourses;

    MoreCourses -> DisplayCourses [label="Evet"];
    MoreCourses -> ShowSummary [label="Hayır"];

    ShowSummary -> ConfirmRegistration;
    ConfirmRegistration -> GPACheck [label="Evet"];
    ConfirmRegistration -> CancelRegistration [label="Hayır"];

    GPACheck -> SendToAdvisor [label="Evet"];
    GPACheck -> CompleteRegistration [label="Hayır"];
    
    SendToAdvisor -> End;
    CompleteRegistration -> End;
    CancelRegistration -> End;
}
